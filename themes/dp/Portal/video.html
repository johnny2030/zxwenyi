<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1,maximum-scale=1,user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <meta name="format-detection" content="telephone=no" />
    <meta name="format-detection" content="address=no">
    <title>testvideo</title>
</head>
<body>
<input type="button" value="Start Record" onclick="startRecord();"/>
<br/>
<input type="button" value="Stop Record" onclick="stopRecord();"/>
</body>
<script type="text/javascript">
    /*// 扩展API加载完毕后调用onPlusReady回调函数
        document.addEventListener( "plusready", onPlusReady, false );
        var r = null;
        // 扩展API加载完毕，现在可以正常调用扩展API
        function onPlusReady() {
            r = plus.audio.getRecorder();
        }*/
    function startRecord() {
        alert("123");
        r = plus.audio.getRecorder();
        alert("321");
        if ( r == null ) {
            alert( "Device not ready!" );
            return;
        }
        r.record( {filename:"_doc/audio/123.amr"}, function () {//真机测试文件在/sdcard/Android/data/io.dcloud.HBuilder/.HBuilder/apps/HBuilder/doc下面（.HBuilder是隐藏的，要查看隐藏的文件）
            alert( "Audio record success!" );
        }, function ( e ) {
            alert( "Audio record failed: " + e.message );
        } );
    }
    function stopRecord() {
        r.stop();
    }
    /*function player(){//播放音乐
        s = plus.audio.createPlayer( "_doc/audio/gg.mp3" );
        var num = s.getDuration();//获取音频总长度number
        setTimeout(function(){//延时获取，否则可能没有返回长度
            var num = s.getDuration();
            alert(num)
        },100)

        s.play( function () {
            alert( "Audio play success!" );
        }, function ( e ) {
            alert( "Audio play error: " + e.message );
        } );
    }
    function pause(){//暂停播放
        s.pause();
    }
    function resume() {//恢复播放
        s.resume();
    }
    function seekTo(){
        s.seekTo(100);
    }*/
</script>
</html>